var v=Object.defineProperty;var _=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var h=(e,o,t)=>o in e?v(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,F=(e,o)=>{for(var t in o||(o={}))C.call(o,t)&&h(e,t,o[t]);if(_)for(var t of _(o))w.call(o,t)&&h(e,t,o[t]);return e};var u=(e,o,t)=>new Promise((p,n)=>{var l=r=>{try{a(t.next(r))}catch(i){n(i)}},m=r=>{try{a(t.throw(r))}catch(i){n(i)}},a=r=>r.done?p(r.value):Promise.resolve(r.value).then(l,m);a((t=t.apply(e,o)).next())});import{aw as b,a as I,ff as S,aZ as D,aY as L,v as P,N as k,ay as c,o as R,j as W,z as d,n as f,B as $,E as q}from"./index.8974946c.js";import{P as x}from"./index.71b2acdc.js";import{B as M}from"./BasicForm.f5f564d7.js";import{u as N}from"./useForm.a3c80db7.js";import{f as V,r as j}from"./data.fb67c054.js";import{c as E,s as z}from"./cms.f2b2bda1.js";import"./index.8fa4764a.js";import"./index.1359973e.js";import"./useSize.e92adaf4.js";import"./eagerComputed.6d37f154.js";import"./useWindowSizeFn.66fd46ef.js";import"./useContentViewHeight.a176c986.js";import"./ArrowLeftOutlined.a6797b0a.js";import"./index.fcb52254.js";import"./transButton.70b54c94.js";/* empty css              *//* empty css              */import"./index.bf55eaed.js";import"./index.8b566456.js";import"./Checkbox.ca83ee0a.js";import"./index.7cfb2783.js";import"./index.eeadc4e3.js";import"./index.ba9dd245.js";import"./index.8cd81056.js";import"./index.5a8912a5.js";import"./get.6ebaba4f.js";import"./index.b324fb8d.js";import"./index.f9ca903c.js";import"./Form.5c777fa1.js";import"./Col.7aead188.js";import"./useFlexGapSupport.15eac266.js";import"./_baseIteratee.19992612.js";import"./DeleteOutlined.0ca7fec0.js";import"./index.71b10258.js";import"./index.f2c1a646.js";import"./FullscreenOutlined.956c3219.js";import"./index.7d6907f3.js";import"./index.1011d53c.js";import"./useRefs.8792725b.js";import"./index.62198fd1.js";import"./index.ddc2dc8c.js";import"./uuid.2b29000c.js";import"./download.98afff28.js";import"./base64Conver.08b9f4ec.js";import"./index.af4c9aa6.js";import"./index.519d1a7c.js";import"./uniqBy.57acf3a9.js";import"./upload.9b85d6cd.js";import"./index.ac4af61b.js";const A=I({name:"CmsContentDetail",components:{PageWrapper:x,BasicForm:M,Loading:S},setup(){const e=D(),{createMessage:o}=q(),t=L(),[p,{setFieldsValue:n,validate:l,appendSchemaByField:m,removeSchemaByFiled:a}]=N({labelWidth:100,schemas:V,showResetButton:!1,showSubmitButton:!1,baseColProps:{span:24}}),r=P(!1);k(()=>u(this,null,function*(){r.value=!0;try{const s=yield E({contentId:t.query.contentId,moduleIdentity:t.query.moduleIdentity,categoryId:t.query.categoryId});n(F({},s)),j(m,a,s.fields)}finally{r.value=!1}}));function i(){return u(this,null,function*(){try{let s=yield l();r.value=!0,yield z(s),o.success("\u4FDD\u5B58\u6210\u529F"),e("/cms/content/index")}catch(s){let g=[],y=s.errorFields;if(y){g=y[0].errors;let B=g.join(" ");o.error(B)}else o.error(s.message)}finally{r.value=!1}})}return{go:e,showLoading:r,registerForm:p,handleSubmit:i}}}),G=$(" \u63D0\u4EA4");function H(e,o,t,p,n,l){const m=c("Loading"),a=c("BasicForm"),r=c("a-button"),i=c("PageWrapper");return R(),W(i,{title:"",contentFullHeight:""},{rightFooter:d(()=>[f(r,{type:"primary",onClick:e.handleSubmit},{default:d(()=>[G]),_:1},8,["onClick"])]),default:d(()=>[f(m,{loading:e.showLoading},null,8,["loading"]),f(a,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1})}var zt=b(A,[["render",H]]);export{zt as default};
