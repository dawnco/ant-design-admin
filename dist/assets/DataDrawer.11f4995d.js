var b=Object.defineProperty;var m=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var d=(r,t,e)=>t in r?b(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,f=(r,t)=>{for(var e in t||(t={}))_.call(t,e)&&d(r,e,t[e]);if(m)for(var e of m(t))F.call(t,e)&&d(r,e,t[e]);return r};var p=(r,t,e)=>new Promise((u,i)=>{var l=a=>{try{o(e.next(a))}catch(s){i(s)}},c=a=>{try{o(e.throw(a))}catch(s){i(s)}},o=a=>a.done?u(a.value):Promise.resolve(a.value).then(l,c);o((e=e.apply(r,t)).next())});import{B as I}from"./BasicForm.4092a552.js";import{u as v}from"./useForm.932b00c0.js";import{c as P}from"./customSetting.4c03ff9f.js";import{B as y,a as S}from"./index.1fc8bf58.js";import{av as $,a as k,v as C,k as D,f as R,ax as w,o as x,j as O,z as j,n as q,ay as L,fA as T}from"./index.d00d010f.js";const J=[{title:"\u59D3\u540D",dataIndex:"name",width:100},{title:"\u7528\u6237\u540D",dataIndex:"username",width:100},{title:"\u7535\u8BDD",dataIndex:"phone",width:100},{title:"\u542F\u7528",dataIndex:"enabled",customRender:({record:r})=>P.table.switchButton(r,"enabled","admin","id")}],U=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"name",label:"\u59D3\u540D",component:"Input",required:!0,colProps:{span:24}},{field:"username",label:"\u7528\u6237\u540D",component:"Input",required:!0,colProps:{span:24}},{field:"password",label:"\u5BC6\u7801",component:"InputPassword",colProps:{span:24}},{field:"phone",label:"\u7535\u8BDD",component:"Input",colProps:{span:24}}],z=k({name:"MenuDrawer",components:{BasicDrawer:y,BasicForm:I},emits:["success","register"],setup(r,{emit:t}){const e=C(!0),[u,{resetFields:i,setFieldsValue:l,updateSchema:c,validate:o}]=v({labelWidth:100,schemas:U,showActionButtonGroup:!1,baseColProps:{span:12}}),[a,{setDrawerProps:s,closeDrawer:g}]=S(n=>p(this,null,function*(){i(),s({confirmLoading:!1}),e.value=!!(n!=null&&n.isUpdate),D(e)&&l(f({},n.record))})),h=R(()=>D(e)?"\u7F16\u8F91\u7528\u6237":"\u65B0\u589E\u7528\u6237");function B(){return p(this,null,function*(){try{const n=yield o();s({confirmLoading:!0}),yield T(n),g(),t("success")}finally{s({confirmLoading:!1})}})}return{registerDrawer:a,registerForm:u,getTitle:h,handleSubmit:B}}});function A(r,t,e,u,i,l){const c=w("BasicForm"),o=w("BasicDrawer");return x(),O(o,L(r.$attrs,{onRegister:r.registerDrawer,showFooter:"",title:r.getTitle,width:"50%",onOk:r.handleSubmit}),{default:j(()=>[q(c,{onRegister:r.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var M=$(z,[["render",A]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{M as D,K as a,J as c};
