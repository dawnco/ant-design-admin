var w=Object.defineProperty;var l=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var c=(r,t,o)=>t in r?w(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,d=(r,t)=>{for(var o in t||(t={}))E.call(t,o)&&c(r,o,t[o]);if(l)for(var o of l(t))F.call(t,o)&&c(r,o,t[o]);return r};var f=(r,t,o)=>new Promise((u,a)=>{var n=e=>{try{s(o.next(e))}catch(i){a(i)}},p=e=>{try{s(o.throw(e))}catch(i){a(i)}},s=e=>e.done?u(e.value):Promise.resolve(e.value).then(n,p);s((o=o.apply(r,t)).next())});import{B as P,a as g}from"./index.f2c1a646.js";import{B as C}from"./BasicForm.f5f564d7.js";import{u as h}from"./useForm.a3c80db7.js";import{dI as M,aw as b,a as A,ay as m,o as k,j as v,z as B,n as _,B as y,E as I}from"./index.8974946c.js";import"./useWindowSizeFn.66fd46ef.js";import"./FullscreenOutlined.956c3219.js";/* empty css              *//* empty css              */import"./index.bf55eaed.js";import"./index.8b566456.js";import"./Checkbox.ca83ee0a.js";import"./index.7cfb2783.js";import"./index.eeadc4e3.js";import"./index.ba9dd245.js";import"./index.8cd81056.js";import"./index.5a8912a5.js";import"./get.6ebaba4f.js";import"./index.b324fb8d.js";import"./eagerComputed.6d37f154.js";import"./index.f9ca903c.js";import"./Form.5c777fa1.js";import"./Col.7aead188.js";import"./useFlexGapSupport.15eac266.js";import"./_baseIteratee.19992612.js";import"./useSize.e92adaf4.js";import"./DeleteOutlined.0ca7fec0.js";import"./transButton.70b54c94.js";import"./index.71b10258.js";import"./index.7d6907f3.js";import"./index.1011d53c.js";import"./useRefs.8792725b.js";import"./index.62198fd1.js";import"./index.ddc2dc8c.js";import"./uuid.2b29000c.js";import"./download.98afff28.js";import"./base64Conver.08b9f4ec.js";import"./index.af4c9aa6.js";import"./index.519d1a7c.js";import"./uniqBy.57acf3a9.js";const R=(r={})=>M.post({url:"/user/password",params:r}),D=A({name:"EditPasswordModal",components:{BasicModal:P,BasicForm:C},setup(){const{createMessage:r}=I(),[t,{closeModal:o}]=g(),[u,{validateFields:a,resetFields:n}]=h({showActionButtonGroup:!1,schemas:[{field:"oldPassword",label:"\u5F53\u524D\u5BC6\u7801",colProps:{span:24},component:"InputPassword",required:!0},{field:"password",label:"\u65B0\u5BC6\u7801",colProps:{span:24},component:"InputPassword",required:!0},{field:"password2",label:"\u786E\u8BA4\u5BC6\u7801",colProps:{span:24},component:"InputPassword",dynamicRules:({values:s})=>[{required:!0,validator:(e,i)=>i?i!==s.password?Promise.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4!"):Promise.resolve():Promise.reject("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")}]}],labelWidth:75,labelAlign:"right"});function p(){return f(this,null,function*(){const s=yield a();yield R(d({},s)).then(()=>{r.success("\u4FEE\u6539\u6210\u529F"),o(),n()})})}return{register:t,registerForm:u,handleEdit:p}}}),$=y(" \u4FEE\u6539 ");function j(r,t,o,u,a,n){const p=m("BasicForm"),s=m("a-button"),e=m("BasicModal");return k(),v(e,{footer:null,title:"\u4FEE\u6539\u5BC6\u7801",onRegister:r.register},{default:B(()=>[_(p,{onRegister:r.registerForm},null,8,["onRegister"]),_(s,{type:"primary",block:"",class:"mt-2",onClick:r.handleEdit},{default:B(()=>[$]),_:1},8,["onClick"])]),_:1},8,["onRegister"])}var Co=b(D,[["render",j]]);export{Co as default};
