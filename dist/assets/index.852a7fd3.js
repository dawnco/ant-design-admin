import{n as o,r as me,e1 as Xe,e2 as qe,v as P,w as de,_ as v,N as Pe,cb as je,S as E,a4 as Je,K as Qe,f as s,a as oe,Y as be,cm as Ge,a6 as ie,a7 as ee,L as Ke,T as I,F as Ve,e3 as et,R as te,df as ae,b_ as $e,a0 as tt,e4 as rt,G as nt,c6 as at,d7 as it,d8 as ot,J as Te,d as lt,da as Re,dT as ut}from"./index.a5ffc99c.js";var st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},ct=st;function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){vt(t,a,n[a])})}return t}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe=function(e,n){var r=Ie({},e,n.attrs);return o(me,Ie({},r,{icon:ct}),null)};Oe.displayName="RotateLeftOutlined";Oe.inheritAttrs=!1;var ft=Oe,dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},mt=dt;function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){gt(t,a,n[a])})}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=function(e,n){var r=Le({},e,n.attrs);return o(me,Le({},r,{icon:mt}),null)};ye.displayName="RotateRightOutlined";ye.inheritAttrs=!1;var pt=ye,wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ht=wt;function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){Ct(t,a,n[a])})}return t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Se=function(e,n){var r=Ne({},e,n.attrs);return o(me,Ne({},r,{icon:ht}),null)};Se.displayName="ZoomInOutlined";Se.inheritAttrs=!1;var Pt=Se,bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Ot=bt;function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){yt(t,a,n[a])})}return t}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xe=function(e,n){var r=_e({},e,n.attrs);return o(me,_e({},r,{icon:Ot}),null)};xe.displayName="ZoomOutOutlined";xe.inheritAttrs=!1;var St=xe,xt="[object Number]";function Mt(t){return typeof t=="number"||Xe(t)&&qe(t)==xt}function jt(){var t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}function Ee(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function Rt(t){var e=P(null),n=de(v({},t)),r=P([]),a=function(g){e.value===null&&(r.value=[],e.value=je(function(){var f;r.value.forEach(function(L){f=v(v({},f),L)}),v(n,f),e.value=null})),r.value.push(g)};return Pe(function(){e.value&&je.cancel(e.value)}),[n,a]}function ze(t,e,n,r){var a=e+n,i=(n-r)/2;if(n>r){if(e>0)return E({},t,i);if(e<0&&a<r)return E({},t,-i)}else if(e<0||a>r)return E({},t,e<0?i:-i);return{}}function It(t,e,n,r){var a=jt(),i=a.width,g=a.height,f=null;return t<=i&&e<=g?f={x:0,y:0}:(t>i||e>g)&&(f=v(v({},ze("x",n,t,i)),ze("y",r,e,g))),f}var Lt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},ke=Symbol("previewGroupContext"),Me={provide:function(e){Je(ke,e)},inject:function(){return Qe(ke,{isPreviewGroup:P(!1),previewUrls:s(function(){return new Map}),setPreviewUrls:function(){},current:P(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})}},Nt=oe({name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,n){var r=n.slots,a=s(function(){var c={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return be(e.preview)==="object"?Ze(e.preview,c):c}),i=de(new Map),g=P(),f=s(function(){return a.value.visible}),L=s(function(){return a.value.getContainer}),A=function(u,S){var x,C;(C=(x=a.value).onVisibleChange)===null||C===void 0||C.call(x,u,S)},h=Ge(!!f.value,{value:f,onChange:A}),y=ie(h,2),k=y[0],p=y[1],M=P(null),Y=s(function(){return f.value!==void 0}),U=s(function(){return Array.from(i.keys())}),N=s(function(){return U.value[a.value.current]}),b=s(function(){return new Map(Array.from(i).filter(function(c){var u=ie(c,2),S=u[1].canPreview;return!!S}).map(function(c){var u=ie(c,2),S=u[0],x=u[1].url;return[S,x]}))}),D=function(u,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;i.set(u,{url:S,canPreview:x})},j=function(u){g.value=u},O=function(u){M.value=u},R=function(u,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,C=function(){i.delete(u)};return i.set(u,{url:S,canPreview:x}),C},Z=function(u){u==null||u.stopPropagation(),p(!1),O(null)};return ee(N,function(c){j(c)},{immediate:!0,flush:"post"}),Ke(function(){!k.value&&Y.value&&j(N.value)},{flush:"post"}),Me.provide({isPreviewGroup:P(!0),previewUrls:b,setPreviewUrls:D,current:g,setCurrent:j,setShowPreview:p,setMousePosition:O,registerImage:R}),function(){var c=Lt(a.value,[]);return o(Ve,null,[r.default&&r.default(),o(Ue,I(I({},c),{},{"ria-hidden":!k.value,visible:k.value,prefixCls:e.previewPrefixCls,onClose:Z,mousePosition:M.value,src:b.value.get(g.value),icons:e.icons,getContainer:L.value}),null)])}}}),Ae=Nt,fe={x:0,y:0},_t=v(v({},et()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),zt=oe({name:"Preview",inheritAttrs:!1,props:_t,emits:["close","afterClose"],setup:function(e,n){var r=n.emit,a=n.attrs,i=de(e.icons),g=i.rotateLeft,f=i.rotateRight,L=i.zoomIn,A=i.zoomOut,h=i.close,y=i.left,k=i.right,p=P(1),M=P(0),Y=Rt(fe),U=ie(Y,2),N=U[0],b=U[1],D=function(){return r("close")},j=P(),O=de({originX:0,originY:0,deltaX:0,deltaY:0}),R=P(!1),Z=Me.inject(),c=Z.previewUrls,u=Z.current,S=Z.isPreviewGroup,x=Z.setCurrent,C=s(function(){return c.value.size}),B=s(function(){return Array.from(c.value.keys())}),H=s(function(){return B.value.indexOf(u.value)}),ge=s(function(){return S.value?c.value.get(u.value):e.src}),le=s(function(){return S.value&&C.value>1}),W=P({wheelDirection:0}),J=function(){p.value=1,M.value=0,b(fe),r("afterClose")},ue=function(){p.value++,b(fe)},d=function(){p.value>1&&p.value--,b(fe)},w=function(){M.value+=90},_=function(){M.value-=90},G=function(l){l.preventDefault(),l.stopPropagation(),H.value>0&&x(B.value[H.value-1])},z=function(l){l.preventDefault(),l.stopPropagation(),H.value<C.value-1&&x(B.value[H.value+1])},pe=te(E({},"".concat(e.prefixCls,"-moving"),R.value)),se="".concat(e.prefixCls,"-operations-operation"),we="".concat(e.prefixCls,"-operations-icon"),ce=[{icon:h,onClick:D,type:"close"},{icon:L,onClick:ue,type:"zoomIn"},{icon:A,onClick:d,type:"zoomOut",disabled:s(function(){return p.value===1})},{icon:f,onClick:w,type:"rotateRight"},{icon:g,onClick:_,type:"rotateLeft"}],ve=function(){if(e.visible&&R.value){var l=j.value.offsetWidth*p.value,V=j.value.offsetHeight*p.value,$=Ee(j.value),T=$.left,X=$.top,F=M.value%180!==0;R.value=!1;var Q=It(F?V:l,F?l:V,T,X);Q&&b(v({},Q))}},he=function(l){l.button===0&&(l.preventDefault(),l.stopPropagation(),O.deltaX=l.pageX-N.x,O.deltaY=l.pageY-N.y,O.originX=N.x,O.originY=N.y,R.value=!0)},re=function(l){e.visible&&R.value&&b({x:l.pageX-O.deltaX,y:l.pageY-O.deltaY})},Ce=function(l){if(!!e.visible){l.preventDefault();var V=l.deltaY;W.value={wheelDirection:V}}},ne=function(){};return Pe(function(){ee([function(){return e.visible},R],function(){ne();var m,l,V=ae(window,"mouseup",ve,!1),$=ae(window,"mousemove",re,!1),T=ae(window,"wheel",Ce,{passive:!1});try{window.top!==window.self&&(m=ae(window.top,"mouseup",ve,!1),l=ae(window.top,"mousemove",re,!1))}catch(X){}ne=function(){V.remove(),$.remove(),T.remove(),m&&m.remove(),l&&l.remove()}},{flush:"post",immediate:!0})}),$e(function(){ne()}),function(){var m=e.visible,l=e.prefixCls,V=e.rootClassName;return o(rt,I(I({},a),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:l,onClose:D,afterClose:J,visible:m,wrapClassName:pe,rootClassName:V,getContainer:e.getContainer}),{default:function(){return[o("ul",{class:"".concat(e.prefixCls,"-operations")},[ce.map(function(T){var X=T.icon,F=T.onClick,Q=T.type,K=T.disabled;return o("li",{class:te(se,E({},"".concat(e.prefixCls,"-operations-operation-disabled"),K&&(K==null?void 0:K.value))),onClick:F,key:Q},[tt(X,{class:we})])})]),o("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(N.x,"px, ").concat(N.y,"px, 0)")}},[o("img",{onMousedown:he,ref:j,class:"".concat(e.prefixCls,"-img"),src:ge.value,alt:e.alt,style:{transform:"scale3d(".concat(p.value,", ").concat(p.value,", 1) rotate(").concat(M.value,"deg)")}},null)]),le.value&&o("div",{class:te("".concat(e.prefixCls,"-switch-left"),E({},"".concat(e.prefixCls,"-switch-left-disabled"),H.value<=0)),onClick:G},[y]),le.value&&o("div",{class:te("".concat(e.prefixCls,"-switch-right"),E({},"".concat(e.prefixCls,"-switch-right-disabled"),H.value>=C.value-1)),onClick:z},[k])]}})}}}),Ue=zt,kt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},De=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:nt.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},Ze=function(e,n){var r=v({},e);return Object.keys(n).forEach(function(a){e[a]===void 0&&(r[a]=n[a])}),r},Gt=0,He=oe({name:"Image",inheritAttrs:!1,props:De(),emits:["click","error"],setup:function(e,n){var r=n.attrs,a=n.slots,i=n.emit,g=s(function(){return e.prefixCls}),f=s(function(){return"".concat(g.value,"-preview")}),L=s(function(){var d={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return be(e.preview)==="object"?Ze(e.preview,d):d}),A=s(function(){return e.placeholder&&e.placeholder!==!0||a.placeholder}),h=s(function(){return L.value.visible}),y=s(function(){return L.value.getContainer}),k=s(function(){return h.value!==void 0}),p=function(w,_){var G,z;(z=(G=L.value).onVisibleChange)===null||z===void 0||z.call(G,w,_)},M=Ge(!!h.value,{value:h,onChange:p}),Y=ie(M,2),U=Y[0],N=Y[1];ee(U,function(d,w){p(d,w)});var b=P(A.value?"loading":"normal");ee(function(){return e.src},function(){b.value=A.value?"loading":"normal"});var D=P(null),j=s(function(){return b.value==="error"}),O=Me.inject(),R=O.isPreviewGroup,Z=O.setCurrent,c=O.setShowPreview,u=O.setMousePosition,S=O.registerImage,x=P(Gt++),C=s(function(){return e.preview&&!j.value}),B=function(){b.value="normal"},H=function(w){b.value="error",i("error",w)},ge=function(w){if(!k.value){var _=Ee(w.target),G=_.left,z=_.top;R.value?(Z(x.value),u({x:G,y:z})):D.value={x:G,y:z}}R.value?c(!0):N(!0),i("click",w)},le=function(){N(!1),k.value||(D.value=null)},W=P(null);ee(function(){return W},function(){b.value==="loading"&&W.value.complete&&(W.value.naturalWidth||W.value.naturalHeight)&&B()});var J=function(){};Pe(function(){ee([function(){return e.src},C],function(){if(J(),!R.value)return function(){};J=S(x.value,e.src,C.value),C.value||J()},{flush:"post",immediate:!0})}),$e(J);var ue=function(w){return Mt(w)?w+"px":w};return function(){var d=e.prefixCls,w=e.wrapperClassName,_=e.fallback,G=e.src,z=e.placeholder,pe=e.wrapperStyle,se=e.rootClassName,we=r.width,ce=r.height,ve=r.crossorigin,he=r.decoding,re=r.alt,Ce=r.sizes,ne=r.srcset,m=r.usemap,l=r.class,V=r.style,$=L.value,T=$.icons,X=$.maskClassName,F=$.src,Q=kt($,["icons","maskClassName","src"]),K=te(d,w,se,E({},"".concat(d,"-error"),j.value)),Ye=j.value&&_?_:F!=null?F:G,Be={crossorigin:ve,decoding:he,alt:re,sizes:Ce,srcset:ne,usemap:m,class:te("".concat(d,"-img"),E({},"".concat(d,"-img-placeholder"),z===!0),l),style:v({height:ce},V)};return o(Ve,null,[o("div",{class:K,onClick:C.value?ge:function(We){i("click",We)},style:v({width:ue(we),height:ue(ce)},pe)},[o("img",I(I(I({},Be),j.value&&_?{src:_}:{onLoad:B,onError:H,src:G}),{},{ref:W}),null),b.value==="loading"&&o("div",{"aria-hidden":"true",class:"".concat(d,"-placeholder")},[z||a.placeholder&&a.placeholder()]),a.previewMask&&C.value&&o("div",{class:["".concat(d,"-mask"),X]},[a.previewMask()])]),!R.value&&C.value&&o(Ue,I(I({},Q),{},{"aria-hidden":!U.value,visible:U.value,prefixCls:f.value,onClose:le,mousePosition:D.value,src:Ye,alt:re,getContainer:y.value,icons:T,rootClassName:se}),null)])}}});He.PreviewGroup=Ae;var Vt=He,Fe={rotateLeft:o(ft,null,null),rotateRight:o(pt,null,null),zoomIn:o(Pt,null,null),zoomOut:o(St,null,null),close:o(at,null,null),left:o(it,null,null),right:o(ot,null,null)},$t=oe({name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,n){var r=n.attrs,a=n.slots,i=Te("image",e),g=i.getPrefixCls,f=s(function(){return g("image-preview",e.previewPrefixCls)});return function(){return o(Ae,I(I({},v(v({},r),e)),{},{icons:Fe,previewPrefixCls:f.value}),a)}}}),Tt=$t,q=oe({name:"AImage",inheritAttrs:!1,props:De(),setup:function(e,n){var r=n.slots,a=n.attrs,i=Te("image",e),g=i.prefixCls,f=i.rootPrefixCls,L=i.configProvider,A=s(function(){var h=e.preview;if(h===!1)return h;var y=be(h)==="object"?h:{};return v(v({icons:Fe},y),{transitionName:Re(f.value,"zoom",y.transitionName),maskTransitionName:Re(f.value,"fade",y.maskTransitionName)})});return function(){var h,y=((h=L.locale)===null||h===void 0?void 0:h.Image)||lt.Image,k=function(){return o("div",{class:"".concat(g.value,"-mask-info")},[o(ut,null,null),y==null?void 0:y.preview])},p=e.previewMask,M=p===void 0?r.previewMask||k:p;return o(Vt,I(I({},v(v(v({},a),e),{prefixCls:g.value})),{},{preview:A.value}),v(v({},r),{previewMask:typeof M=="function"?M:null}))}}});q.PreviewGroup=Tt;q.install=function(t){return t.component(q.name,q),t.component(q.PreviewGroup.name,q.PreviewGroup),t};var At=q;export{At as I,Ee as g};
