var v=Object.defineProperty;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var y=(e,o,t)=>o in e?v(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,F=(e,o)=>{for(var t in o||(o={}))C.call(o,t)&&y(e,t,o[t]);if(h)for(var t of h(o))w.call(o,t)&&y(e,t,o[t]);return e};var u=(e,o,t)=>new Promise((p,n)=>{var l=r=>{try{a(t.next(r))}catch(i){n(i)}},m=r=>{try{a(t.throw(r))}catch(i){n(i)}},a=r=>r.done?p(r.value):Promise.resolve(r.value).then(l,m);a((t=t.apply(e,o)).next())});import{av as b,a as I,ff as S,aY as D,aX as L,v as P,N as k,ax as c,o as x,j as R,z as d,n as f,B as W,E as $}from"./index.a5ffc99c.js";import{P as q}from"./index.33983858.js";import{B as M}from"./BasicForm.2d60aca0.js";import{u as N}from"./useForm.0698201c.js";import{f as V,r as j}from"./data.20936af5.js";import{c as E,s as z}from"./cms.61b351ed.js";import"./index.a72ad212.js";import"./index.eea3e5b6.js";import"./useSize.8c2a780d.js";import"./eagerComputed.c906e8d0.js";import"./useWindowSizeFn.449f7fa6.js";import"./useContentViewHeight.26660cfc.js";import"./ArrowLeftOutlined.147a8e1c.js";import"./index.10cecb72.js";import"./transButton.62748be9.js";/* empty css              *//* empty css               */import"./index.87c11889.js";import"./index.f9dc3f90.js";import"./Checkbox.1271bd2c.js";import"./index.5f7e0192.js";import"./index.87536a70.js";import"./index.87a97f2f.js";import"./index.ea2bc3aa.js";import"./index.bcc1e8b0.js";import"./get.975901b5.js";import"./index.119bdcd7.js";import"./index.01c6fa00.js";import"./Form.9e62a082.js";import"./Col.a827698b.js";import"./useFlexGapSupport.b2150de8.js";import"./_baseIteratee.586a2442.js";import"./DeleteOutlined.82780be3.js";import"./index.822a9a38.js";import"./index.671994af.js";import"./FullscreenOutlined.c0763b97.js";import"./index.505b013e.js";import"./index.2ab2c550.js";import"./useRefs.89590530.js";import"./index.35d59315.js";import"./index.852a7fd3.js";import"./uuid.2b29000c.js";import"./download.5a638dc1.js";import"./base64Conver.08b9f4ec.js";import"./index.92dd59e7.js";import"./index.315157fe.js";import"./uniqBy.d42e541b.js";import"./upload.aaed90b0.js";import"./index.85133c57.js";const A=I({name:"CmsContentDetail",components:{PageWrapper:q,BasicForm:M,Loading:S},setup(){const e=D(),{createMessage:o}=$(),t=L(),[p,{setFieldsValue:n,validate:l,appendSchemaByField:m,removeSchemaByFiled:a}]=N({labelWidth:100,schemas:V,showResetButton:!1,showSubmitButton:!1,baseColProps:{span:24}}),r=P(!1);k(()=>u(this,null,function*(){r.value=!0;try{const s=yield E({contentId:t.query.contentId,moduleIdentity:t.query.moduleIdentity,categoryId:t.query.categoryId});n(F({},s)),j(m,a,s.fields)}finally{r.value=!1}}));function i(){return u(this,null,function*(){try{let s=yield l();r.value=!0,yield z(s),o.success("\u4FDD\u5B58\u6210\u529F"),e("/cms/content/index")}catch(s){let g=[],_=s.errorFields;if(_){g=_[0].errors;let B=g.join(" ");o.error(B)}else o.error(s.message)}finally{r.value=!1}})}return{go:e,showLoading:r,registerForm:p,handleSubmit:i}}}),G=W(" \u63D0\u4EA4");function H(e,o,t,p,n,l){const m=c("Loading"),a=c("BasicForm"),r=c("a-button"),i=c("PageWrapper");return x(),R(i,{title:"",contentFullHeight:""},{rightFooter:d(()=>[f(r,{type:"primary",onClick:e.handleSubmit},{default:d(()=>[G]),_:1},8,["onClick"])]),default:d(()=>[f(m,{loading:e.showLoading},null,8,["loading"]),f(a,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1})}var zt=b(A,[["render",H]]);export{zt as default};
