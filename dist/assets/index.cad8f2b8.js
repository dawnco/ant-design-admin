import{av as $,a as U,cF as O,b6 as y,br as _,aF as R,b as A,s as N,f as S,ax as t,o as r,h as x,n,z as f,j as g,l as k,i as s,q as a,t as V,F as B,c as F,aM as T}from"./index.d00d010f.js";import{D as z}from"./siteSetting.c485f07c.js";import{c as h,u as j}from"./index.79f0d513.js";import{b as M}from"./index.99c0f294.js";import{h as q}from"./header.d801b988.js";import"./FullscreenOutlined.bc0c7bcb.js";import"./index.19de7d41.js";import"./useWindowSizeFn.c6dbabe3.js";import"./useContentViewHeight.d6e860c4.js";import"./uniqBy.5d6dd86b.js";import"./_baseIteratee.36b75faf.js";import"./get.b6ec3b5b.js";import"./index.dfd53dc2.js";import"./index.7e1b0cf2.js";import"./useRefs.6ba3ea31.js";import"./PlusOutlined.ec68c6dd.js";import"./RedoOutlined.133be7b5.js";import"./index.50454d39.js";import"./lock.41ba50b3.js";const H=U({name:"UserDropdown",components:{Dropdown:O,Menu:y,MenuItem:h(()=>_(()=>import("./DropMenuItem.164fb069.js"),["assets/DropMenuItem.164fb069.js","assets/index.d00d010f.js","assets/index.c1c01559.css"])),MenuDivider:y.Divider,LockAction:h(()=>_(()=>import("./LockModal.a9c6137a.js"),["assets/LockModal.a9c6137a.js","assets/LockModal.0068f88c.css","assets/index.86d55544.css","assets/index.a18cc309.css","assets/index.d00d010f.js","assets/index.c1c01559.css","assets/index.99c0f294.js","assets/index.d0b877f3.css","assets/useWindowSizeFn.c6dbabe3.js","assets/FullscreenOutlined.bc0c7bcb.js","assets/BasicForm.4092a552.js","assets/BasicForm.9ea33745.css","assets/index.420ad400.js","assets/index.3a3c1369.css","assets/index.c2ff998c.js","assets/index.cb0992d5.css","assets/Checkbox.d269b206.js","assets/index.05c3bb54.js","assets/index.695a0c50.css","assets/index.26802964.js","assets/index.49ada229.css","assets/index.4971a5fb.js","assets/index.47f7c782.css","assets/index.47786582.js","assets/index.579bd49e.css","assets/index.1198cc7b.js","assets/index.7b8b5e30.css","assets/get.b6ec3b5b.js","assets/index.6bdc9fa9.js","assets/index.560eb672.css","assets/eagerComputed.505d1976.js","assets/index.af633db6.js","assets/Form.910438a2.js","assets/Col.253020a7.js","assets/useFlexGapSupport.73d0b0a0.js","assets/_baseIteratee.36b75faf.js","assets/useSize.fb85ad3c.js","assets/DeleteOutlined.3d6f436d.js","assets/transButton.432695aa.js","assets/index.b66f5d3c.js","assets/index.cd256673.css","assets/index.0499bc42.js","assets/index.aeeee80c.css","assets/index.2e13b641.js","assets/index.8f5fe29a.css","assets/useRefs.6ba3ea31.js","assets/index.58b6f38e.js","assets/index.9d09be4d.css","assets/index.417b4824.js","assets/index.b1363280.css","assets/uuid.2b29000c.js","assets/download.3070d7fc.js","assets/base64Conver.08b9f4ec.js","assets/index.28538d1b.js","assets/index.cb030764.css","assets/index.0e1e0fdd.js","assets/uniqBy.5d6dd86b.js","assets/useForm.932b00c0.js","assets/lock.41ba50b3.js","assets/header.d801b988.js"])),EditPassword:h(()=>_(()=>import("./editPasswordModal.196cc628.js"),["assets/editPasswordModal.196cc628.js","assets/index.86d55544.css","assets/index.a18cc309.css","assets/index.99c0f294.js","assets/index.d0b877f3.css","assets/index.d00d010f.js","assets/index.c1c01559.css","assets/useWindowSizeFn.c6dbabe3.js","assets/FullscreenOutlined.bc0c7bcb.js","assets/BasicForm.4092a552.js","assets/BasicForm.9ea33745.css","assets/index.420ad400.js","assets/index.3a3c1369.css","assets/index.c2ff998c.js","assets/index.cb0992d5.css","assets/Checkbox.d269b206.js","assets/index.05c3bb54.js","assets/index.695a0c50.css","assets/index.26802964.js","assets/index.49ada229.css","assets/index.4971a5fb.js","assets/index.47f7c782.css","assets/index.47786582.js","assets/index.579bd49e.css","assets/index.1198cc7b.js","assets/index.7b8b5e30.css","assets/get.b6ec3b5b.js","assets/index.6bdc9fa9.js","assets/index.560eb672.css","assets/eagerComputed.505d1976.js","assets/index.af633db6.js","assets/Form.910438a2.js","assets/Col.253020a7.js","assets/useFlexGapSupport.73d0b0a0.js","assets/_baseIteratee.36b75faf.js","assets/useSize.fb85ad3c.js","assets/DeleteOutlined.3d6f436d.js","assets/transButton.432695aa.js","assets/index.b66f5d3c.js","assets/index.cd256673.css","assets/index.0499bc42.js","assets/index.aeeee80c.css","assets/index.2e13b641.js","assets/index.8f5fe29a.css","assets/useRefs.6ba3ea31.js","assets/index.58b6f38e.js","assets/index.9d09be4d.css","assets/index.417b4824.js","assets/index.b1363280.css","assets/uuid.2b29000c.js","assets/download.3070d7fc.js","assets/base64Conver.08b9f4ec.js","assets/index.28538d1b.js","assets/index.cb030764.css","assets/index.0e1e0fdd.js","assets/uniqBy.5d6dd86b.js","assets/useForm.932b00c0.js"]))},props:{theme:R.oneOf(["dark","light"])},setup(){const{prefixCls:e}=A("header-user-dropdown"),{t:w}=F(),{getShowDoc:v,getUseLockPage:C}=j(),i=N(),D=S(()=>{const{realName:m="",avatar:P,desc:b}=i.getUserInfo||{};return{realName:m,avatar:P||q,desc:b}}),[o,{openModal:l}]=M(),[d,{openModal:c}]=M();function p(){l(!0)}function u(){i.confirmLoginOut()}function I(){T(z)}function L(){c(!0)}function E(m){switch(m.key){case"logout":u();break;case"doc":I();break;case"lock":p();break;case"editPassword":L();break}}return{prefixCls:e,t:w,getUserInfo:D,handleMenuClick:E,getShowDoc:v,register:o,registerEdit:d,getUseLockPage:C}}}),W=["src"];function G(e,w,v,C,i,D){const o=t("MenuItem"),l=t("MenuDivider"),d=t("Menu"),c=t("Dropdown"),p=t("LockAction"),u=t("EditPassword");return r(),x(B,null,[n(c,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:f(()=>[n(d,{onClick:e.handleMenuClick},{default:f(()=>[e.getShowDoc?(r(),g(o,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):k("",!0),e.getShowDoc?(r(),g(l,{key:1})):k("",!0),e.getUseLockPage?(r(),g(o,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):k("",!0),n(o,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"]),n(o,{key:"editPassword",text:e.t("layout.header.dropdownItemEditPassword"),icon:"ion:lock-closed-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:f(()=>[s("span",{class:a([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[s("img",{class:a(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,W),s("span",{class:a(`${e.prefixCls}__info hidden md:block`)},[s("span",{class:a([`${e.prefixCls}__name  `,"truncate"])},V(e.getUserInfo.realName),3)],2)],2)]),_:1},8,["overlayClassName"]),n(p,{onRegister:e.register},null,8,["onRegister"]),n(u,{onRegister:e.registerEdit},null,8,["onRegister"])],64)}var me=$(H,[["render",G]]);export{me as default};
