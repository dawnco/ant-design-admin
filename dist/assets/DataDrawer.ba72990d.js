var B=Object.defineProperty;var m=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var F=(u,t,e)=>t in u?B(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e,D=(u,t)=>{for(var e in t||(t={}))I.call(t,e)&&F(u,e,t[e]);if(m)for(var e of m(t))g.call(t,e)&&F(u,e,t[e]);return u};var d=(u,t,e)=>new Promise((c,i)=>{var p=o=>{try{n(e.next(o))}catch(r){i(r)}},l=o=>{try{n(e.throw(o))}catch(r){i(r)}},n=o=>o.done?c(o.value):Promise.resolve(o.value).then(p,l);n((e=e.apply(u,t)).next())});import{B as v}from"./BasicForm.f5f564d7.js";import{u as A}from"./useForm.a3c80db7.js";import{bS as P,b6 as _,aw as y,a as S,v as R,k as f,fv as k,f as M,ay as E,o as x,j as T,z as $,n as q,az as N,fw as O,fx as j}from"./index.8974946c.js";import{B as z,a as L}from"./index.772174a5.js";const Z=[{title:"\u540D\u79F0",dataIndex:"title",width:200,align:"left"},{title:"\u56FE\u6807",dataIndex:"icon",width:50,customRender:({record:u})=>P(_,{icon:u.icon})},{title:"\u6743\u9650\u6807\u8BC6",dataIndex:"permission",width:180},{title:"\u7EC4\u4EF6",dataIndex:"component"},{title:"\u8DEF\u5F84",dataIndex:"path"},{title:"\u8DF3\u8F6C\u5730\u5740",dataIndex:"redirect"},{title:"\u6392\u5E8F",dataIndex:"orderNo",width:50}],G=u=>u==="2",uu=[{field:"name",label:"\u83DC\u5355\u540D\u79F0",component:"Input",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"Select",componentProps:{options:[{label:"\u542F\u7528",value:1},{label:"\u505C\u7528",value:0}]},colProps:{span:8}}];function s(u,t,e=""){return{field:u,label:t,component:"RadioButtonGroup",helpMessage:e,componentProps:{options:[{label:"\u662F",value:1},{label:"\u5426",value:0}]}}}const U=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"title",label:"\u83DC\u5355\u540D\u79F0",component:"Input",required:!0,colProps:{span:24}},{field:"field-detail-div",component:"Divider",label:"\u8BE6\u7EC6",colProps:{span:24}},{field:"parentId",label:"\u4E0A\u7EA7\u83DC\u5355",component:"TreeSelect",componentProps:{fieldNames:{label:"title",key:"id",value:"id"},getPopupContainer:()=>document.body}},{field:"sort",label:"\u6392\u5E8F",helpMessage:"\u5347\u5E8F",component:"InputNumber"},{field:"name",label:"\u8DEF\u7531\u540D\u79F0",helpMessage:"\u7EC4\u4EF6\u7684\u540D\u79F0",component:"Input",required:!0},{field:"path",label:"\u8DEF\u7531\u5730\u5740",component:"Input"},{field:"icon",label:"\u56FE\u6807",component:"IconPicker",required:!0,ifShow:({values:u})=>!G(u.type)},{field:"component",label:"\u7EC4\u4EF6\u8DEF\u5F84",component:"Input",required:!0},{field:"redirect",label:"\u8DF3\u8F6C\u5730\u5740",component:"Input"},{field:"permission",label:"\u6743\u9650\u6807\u8BC6",component:"Input"},{field:"currentActiveMenu",label:"\u6FC0\u6D3B\u7684\u83DC\u5355",component:"Input",helpMessage:"\u5F53\u524D\u6FC0\u6D3B\u7684\u83DC\u5355\u3002\u7528\u4E8E\u914D\u7F6E\u8BE6\u60C5\u9875\u65F6\u5DE6\u4FA7\u6FC0\u6D3B\u7684\u83DC\u5355\u8DEF\u5F84"},{field:"field-switch-div",component:"Divider",label:"\u5F00\u5173",colProps:{span:24}},s("status","\u542F\u7528"),s("keepAlive","\u7F13\u5B58","\u5207\u6362tab\u7684\u65F6\u5019\u662F\u5426\u4FDD\u7559\u6570\u636E"),s("carryParam","TAB\u643A\u5E26\u53C2\u6570","\u5982\u679C\u8BE5\u8DEF\u7531\u4F1A\u643A\u5E26\u53C2\u6570\uFF0C\u4E14\u9700\u8981\u5728tab\u9875\u4E0A\u9762\u663E\u793A\u3002\u5219\u9700\u8981\u5F00\u542F"),s("showBreadcrumb","\u9762\u5305\u5C51","\u8BE5\u8DEF\u7531\u5728\u9762\u5305\u5C51\u4E0A\u9762\u7684\u663E\u793A"),s("showChildrenInMenu","\u5C55\u793A\u5B50\u83DC\u5355"),s("showTab","\u663E\u793ATAB","\u5F53\u524D\u8DEF\u7531\u4E0D\u518D\u6807\u7B7E\u9875\u663E\u793A"),s("showMenu","\u663E\u793A\u83DC\u5355","\u5F53\u524D\u8DEF\u7531\u5728\u83DC\u5355\u663E\u793A")],V=S({name:"MenuDrawer",components:{BasicDrawer:z,BasicForm:v},emits:["success","register"],setup(u,{emit:t}){const e=R(!0),[c,{resetFields:i,setFieldsValue:p,updateSchema:l,validate:n}]=A({labelWidth:100,schemas:U,showActionButtonGroup:!1,baseColProps:{span:12}}),[o,{setDrawerProps:r,closeDrawer:C}]=L(a=>d(this,null,function*(){i(),r({confirmLoading:!1}),e.value=!!(a!=null&&a.isUpdate),f(e)&&p(D({},a.record));const h=yield k({});l({field:"parentId",componentProps:{treeData:h}})})),b=M(()=>f(e)?"\u7F16\u8F91\u83DC\u5355":"\u65B0\u589E\u83DC\u5355");function w(){return d(this,null,function*(){try{const a=yield n();r({confirmLoading:!0}),a.id?yield O(a):yield j(a),C(),t("success")}finally{r({confirmLoading:!1})}})}return{registerDrawer:o,registerForm:c,getTitle:b,handleSubmit:w}}});function W(u,t,e,c,i,p){const l=E("BasicForm"),n=E("BasicDrawer");return x(),T(n,N(u.$attrs,{onRegister:u.registerDrawer,showFooter:"",title:u.getTitle,width:"50%",onOk:u.handleSubmit}),{default:$(()=>[q(l,{onRegister:u.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var H=y(V,[["render",W]]),eu=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as D,eu as a,Z as c,uu as s};
