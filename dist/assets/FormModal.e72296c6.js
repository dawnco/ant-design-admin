var _=Object.defineProperty;var u=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var F=(o,t,e)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t)=>{for(var e in t||(t={}))b.call(t,e)&&F(o,e,t[e]);if(u)for(var e of u(t))k.call(t,e)&&F(o,e,t[e]);return o};var c=(o,t,e)=>new Promise((a,m)=>{var p=i=>{try{s(e.next(i))}catch(l){m(l)}},n=i=>{try{s(e.throw(i))}catch(l){m(l)}},s=i=>i.done?a(i.value):Promise.resolve(i.value).then(p,n);s((e=e.apply(o,t)).next())});import{B as C,a as w}from"./index.f2c1a646.js";import{B as S}from"./BasicForm.f5f564d7.js";import{u as $}from"./useForm.a3c80db7.js";import{F as P,f as R}from"./Fields.6379d9eb.js";import{i as z}from"./cms.f2b2bda1.js";import{aw as E,a as O,v as g,ay as f,o as V,j,z as A,n as y,az as G}from"./index.8974946c.js";import"./useWindowSizeFn.66fd46ef.js";import"./FullscreenOutlined.956c3219.js";/* empty css              *//* empty css              */import"./index.bf55eaed.js";import"./index.8b566456.js";import"./Checkbox.ca83ee0a.js";import"./index.7cfb2783.js";import"./index.eeadc4e3.js";import"./index.ba9dd245.js";import"./index.8cd81056.js";import"./index.5a8912a5.js";import"./get.6ebaba4f.js";import"./index.b324fb8d.js";import"./eagerComputed.6d37f154.js";import"./index.f9ca903c.js";import"./Form.5c777fa1.js";import"./Col.7aead188.js";import"./useFlexGapSupport.15eac266.js";import"./_baseIteratee.19992612.js";import"./useSize.e92adaf4.js";import"./DeleteOutlined.0ca7fec0.js";import"./transButton.70b54c94.js";import"./index.71b10258.js";import"./index.7d6907f3.js";import"./index.1011d53c.js";import"./useRefs.8792725b.js";import"./index.62198fd1.js";import"./index.ddc2dc8c.js";import"./uuid.2b29000c.js";import"./download.98afff28.js";import"./base64Conver.08b9f4ec.js";import"./index.af4c9aa6.js";import"./index.519d1a7c.js";import"./uniqBy.57acf3a9.js";const I=O({components:{BasicModal:C,BasicForm:S,Fields:P},setup(o,{emit:t}){const e=g("\u4FEE\u6539"),a=g([{name:"",sort:1,type:"input"}]),[m,{resetFields:p,setFieldsValue:n,updateSchema:s,validate:i,appendSchemaByField:l,removeSchemaByFiled:W}]=$({labelWidth:100,schemas:R,showActionButtonGroup:!1,baseColProps:{span:24}}),[B,{closeModal:M}]=w(r=>c(this,null,function*(){p(),n(h({},r.module)),r.module.identity?s({field:"identity",componentProps:{disabled:!0}}):s({field:"identity",componentProps:{disabled:!1}}),r.fields.length>0?d(r.fields):d([{name:"",identity:"",sort:100,type:"input"}])}));function d(r){a.value=r}function v(){return c(this,null,function*(){try{const r=yield i();yield z({module:r,fields:a.value}),M(),t("ok")}catch(r){}})}return{registerForm:m,registerModal:B,title:e,changeFields:d,fields:a,handleSubmit:v}}});function N(o,t,e,a,m,p){const n=f("BasicForm"),s=f("Fields"),i=f("BasicModal");return V(),j(i,G(o.$attrs,{keyboard:!1,maskClosable:!1,title:o.title,width:960,onRegister:o.registerModal,onOk:o.handleSubmit}),{default:A(()=>[y(n,{onRegister:o.registerForm},null,8,["onRegister"]),y(s,{fields:o.fields,onChange:o.changeFields},null,8,["fields","onChange"])]),_:1},16,["title","onRegister","onOk"])}var Ro=E(I,[["render",N]]);export{Ro as default};
