var b=Object.defineProperty;var d=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var m=(a,s,e)=>s in a?b(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,f=(a,s)=>{for(var e in s||(s={}))_.call(s,e)&&m(a,e,s[e]);if(d)for(var e of d(s))I.call(s,e)&&m(a,e,s[e]);return a};var p=(a,s,e)=>new Promise((u,i)=>{var l=r=>{try{t(e.next(r))}catch(o){i(o)}},c=r=>{try{t(e.throw(r))}catch(o){i(o)}},t=r=>r.done?u(r.value):Promise.resolve(r.value).then(l,c);t((e=e.apply(a,s)).next())});import{B as F}from"./BasicForm.f5f564d7.js";import{u as P}from"./useForm.a3c80db7.js";import{B as v,a as y}from"./index.772174a5.js";import{aw as C,a as S,v as $,k as w,f as k,ay as D,o as x,j as z,z as O,n as R,az as j,fz as q}from"./index.8974946c.js";const W=[{title:"\u59D3\u540D",dataIndex:"name",width:100},{title:"\u7528\u6237\u540D",dataIndex:"username",width:100},{title:"\u5BC6\u7801",dataIndex:"password",width:100,ellipsis:!1},{title:"\u7535\u8BDD",dataIndex:"phone",width:100},{title:"enabled",dataIndex:"enabled",width:100}],L=[{field:"id",label:"ID",component:"Input",required:!1,show:!1},{field:"name",label:"\u59D3\u540D",component:"Input",required:!0,colProps:{span:24}},{field:"username",label:"\u7528\u6237\u540D",component:"Input",required:!0,colProps:{span:24}},{field:"password",label:"\u5BC6\u7801",component:"InputPassword",colProps:{span:24}},{field:"phone",label:"\u7535\u8BDD",component:"Input",colProps:{span:24}}],T=S({name:"MenuDrawer",components:{BasicDrawer:v,BasicForm:F},emits:["success","register"],setup(a,{emit:s}){const e=$(!0),[u,{resetFields:i,setFieldsValue:l,updateSchema:c,validate:t}]=P({labelWidth:100,schemas:L,showActionButtonGroup:!1,baseColProps:{span:12}}),[r,{setDrawerProps:o,closeDrawer:h}]=y(n=>p(this,null,function*(){i(),o({confirmLoading:!1}),e.value=!!(n!=null&&n.isUpdate),w(e)&&l(f({},n.record))})),g=k(()=>w(e)?"\u7F16\u8F91\u7528\u6237":"\u65B0\u589E\u7528\u6237");function B(){return p(this,null,function*(){try{const n=yield t();o({confirmLoading:!0}),yield q(n),h(),s("success")}finally{o({confirmLoading:!1})}})}return{registerDrawer:r,registerForm:u,getTitle:g,handleSubmit:B}}});function U(a,s,e,u,i,l){const c=D("BasicForm"),t=D("BasicDrawer");return x(),z(t,j(a.$attrs,{onRegister:a.registerDrawer,showFooter:"",title:a.getTitle,width:"50%",onOk:a.handleSubmit}),{default:O(()=>[R(c,{onRegister:a.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var M=C(T,[["render",U]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{M as D,H as a,W as c};
